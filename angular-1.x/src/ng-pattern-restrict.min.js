angular.module('ngPatternRestrict',[]).directive('ngPatternRestrict',['$log',function(a){'use strict';return{restrict:'A',require:'?ngModel',compile:function(){return function(a,b,c,d){function e(){return b[0].selectionStart}function f(){var a=document.selection.createRange();return a.moveStart('character',-b.val().length),a.text.length}function g(){var a,b,c,d=window.getSelection(),e=(d+'').length,f=!1;do a=(d+'').length,d.modify('extend','backward','character'),0===(d+'').length&&(f=!0);while(a!==(d+'').length);for(b=f?a:a-e,d.collapseToStart(),c=b;c-->0;)d.modify('move','forward','character');for(;e-->0;)d.modify('extend','forward','character');return b}function h(a){b[0].setSelectionRange(a,a)}function i(a){var c=b[0].createTextRange();c.collapse(!0),c.moveEnd('character',a),c.moveStart('character',a),c.select()}function j(a){var b,c=window.getSelection();do b=(c+'').length,c.modify('extend','backward','line');while(b!==(c+'').length);for(c.collapseToStart();a--;)c.modify('move','forward','character')}function k(a){if(!/Opera/i.test(navigator.userAgent))return 0;a.focus(),document.execCommand('selectAll');var b=window.getSelection().focusNode;return(b||{}).selectionStart||0}function l(){b.val(y),angular.isUndefined(z)||B(z)}function m(a){y=a,z=A()}function n(c){var e=b.val(),f=b.prop('validity');''===e&&'text'!==b.attr('type')&&f&&f.badInput?(c.preventDefault(),l()):''===e&&0!==k(b[0])?(c.preventDefault(),l()):x.test(e)?m(e):(c.preventDefault(),l()),d&&a.$apply(function(){d.$setViewValue(y)})}function o(a){try{x=RegExp(a)}catch(b){throw'Invalid RegEx string parsed for ngPatternRestrict: '+a}}function p(){D||b.bind('input keyup click',n)}function q(){D&&(b.unbind('input',n),b.unbind('keyup',n),b.unbind('click',n),D=!1)}function r(){var a=c.ngPatternRestrict?c.ngPatternRestrict:c.pattern;o(a)}function s(a,b){try{return a()||!b}catch(c){return!1}}function t(){var a=b[0];A=s(function(){return a.selectionStart})?e:s(function(){return document.selection},!0)?f:g}function u(){var a=b[0];B='function'==typeof a.setSelectionRange?h:'function'==typeof a.createTextRange?i:j}function v(){C||(r(),y=b.val(),y||(y=''),p(),t(),u(),C=!0)}function w(){q()}var x,y,z,A,B,C=!1,D=!1;c.$observe('ngPatternRestrict',r),c.$observe('pattern',r),a.$on('$destroy',w),v()}}}}]);
//# sourceMappingURL=ng-pattern-restrict.min.js.map